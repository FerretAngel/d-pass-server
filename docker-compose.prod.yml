version: '3'

services:
  dpass:
    image: dpass:latest
    container_name: dpass-server
    pull_policy: never
    restart: always
    env_file:
      - .env
      - .env.production
    extra_hosts:
      - 'host.docker.internal:host-gateway'
    volumes:
      - ./public:/api/public
    ports:
      - '${APP_PORT}:${APP_PORT}'  
    networks:
      - dpass_net

networks:
  dpass_net:
    name: dpass_net